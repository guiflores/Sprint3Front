<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Streaming - Fórmula E</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../static/chat.css">
</head>
<body>
    <header>
        <nav>
            <div><a class="logo" href="index.html">Fórmula E</a></div>
            <button class="menu-toggle" aria-label="Toggle menu">
                &#x22EE;
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="streaming.html">Streaming</a></li>
                <li><a href="carros.html">Carros</a></li>
                <li><a href="noticias.html">Notícias</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="cadastro.html">Cadastro</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="live-stream">
            <div class="stream-grid">
                <div class="main-stream">
                    <h1 style="color: red;">LIVE</h1>
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/XFY6OaAE-zg?si=NhhG2-ROBQV02IZJ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
                <div class="stream-chat">
                    <div class="chat-header">Chat ao Vivo</div>
                    <div class="chat-body">
                        <div id="messages"></div>
                        <input id="msg" type="text" placeholder="Digite sua mensagem..." onkeydown="checkEnter(event)" />
                        <button id="sendButton" onclick="sendMessage()">Enviar</button>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
    <script>
        var socket = io.connect('http://' + document.domain + ':' + location.port);
        var room = 'chatroom';

        // Emitir evento de join ao entrar no chat
        socket.emit('join', {room: room});

        // Receber mensagens do servidor e exibir
        socket.on('message', function(data) {
            var msg = document.createElement('p');
            msg.innerText = data.msg;
            document.getElementById('messages').appendChild(msg);
        });

        // Função para enviar mensagem
        function sendMessage() {
            var msgInput = document.getElementById('msg');
            var msg = msgInput.value;
            msgInput.value = '';

            socket.emit('message', {msg: msg, room: room});
        }

        // Função para enviar mensagem com Enter
        function checkEnter(event) {
            if (event.keyCode === 13) {
                sendMessage();
            }
        }
    </script>

    <section class="grid-section">
        <h1 class="section-title">Confira os <span class="title-destaque">Highlights </span>das equipes e pilotos abaixo</h2>
        <div class="grid-container">    
            <div class="grid-item"  data-aos="fade-up">
                <a href="mm1.html">
                    <img src="img/equipe1.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
            <div class="grid-item" data-aos="fade-up">
                <a href="mm2.html">
                    <img src="img/equipe2.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
            <div class="grid-item" data-aos="fade-up">
                <a href="mm3.html">
                    <img src="img/equipe3.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
        </div>
        <div class="grid-container">
            <div class="grid-item" data-aos="fade-up">
                <a href="mm4.html">
                    <img src="img/equipe4.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
            <div class="grid-item" data-aos="fade-up">
                <a href="mm5.html">
                    <img src="img/equipe5.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
            <div class="grid-item" data-aos="fade-up">
                <a href="mm6.html">
                    <img src="img/equipe6.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
        </div>
        <div class="grid-container">
            <div class="grid-item" data-aos="fade-up">
                <a href="mm7.html">
                    <img src="img/equipe7.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
            <div class="grid-item" data-aos="fade-up">
                <a href="mm8.html">
                    <img src="img/equipe8.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
            <div class="grid-item" data-aos="fade-up">
                <a href="mm9.html">
                    <img src="img/equipe9.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
        </div>
        <div class="grid-container">
            <div class="grid-item" data-aos="fade-up">
                <a href="mm10.html">
                    <img src="img/equipe10.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
            <div class="grid-item" data-aos="fade-up">
                <a href="mm11.html">
                    <img src="img/equipe11.png" alt="Carro Fórmula E 1" class="car-image">
                </a>
            </div>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Fórmula E. Todos os direitos reservados.</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
